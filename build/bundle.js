var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a=!1;const s=new Set;function u(t,e){a&&s.delete(e),e.parentNode!==t&&t.appendChild(e)}function c(t,e,n){a&&s.delete(e),(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function h(t){a?s.add(t):t.parentNode&&t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function p(){return l(" ")}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let g;function y(t){g=t}function v(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const _=[],w=[],b=[],S=[],O=Promise.resolve();let k=!1;function x(t){b.push(t)}let P=!1;const T=new Set;function j(){if(!P){P=!0;do{for(let t=0;t<_.length;t+=1){const e=_[t];y(e),E(e.$$)}for(y(null),_.length=0;w.length;)w.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];T.has(e)||(T.add(e),e())}b.length=0}while(_.length);for(;S.length;)S.pop()();k=!1,P=!1,T.clear()}}function E(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const C=new Set;let M;function A(t,e){t&&t.i&&(C.delete(t),t.i(e))}function $(t,e,n,r){if(t&&t.o){if(C.has(t))return;C.add(t),M.c.push((()=>{C.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function W(t,e){$(t,1,1,(()=>{e.delete(t.key)}))}function q(t){t&&t.c()}function N(t,n,o,a){const{fragment:s,on_mount:u,on_destroy:c,after_update:h}=t.$$;s&&s.m(n,o),a||x((()=>{const n=u.map(e).filter(i);c?c.push(...n):r(n),t.$$.on_mount=[]})),h.forEach(x)}function F(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(t,e){-1===t.$$.dirty[0]&&(_.push(t),k||(k=!0,O.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(e,i,o,u,c,f,l=[-1]){const p=g;y(e);const d=e.$$={fragment:null,ctx:null,props:f,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:i.context||[]),callbacks:n(),dirty:l,skip_bound:!1};let m=!1;if(d.ctx=o?o(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),m&&R(e,t)),n})):[],d.update(),m=!0,r(d.before_update),d.fragment=!!u&&u(d.ctx),i.target){if(i.hydrate){a=!0;const t=function(t){return Array.from(t.childNodes)}(i.target);d.fragment&&d.fragment.l(t),t.forEach(h)}else d.fragment&&d.fragment.c();i.intro&&A(e.$$.fragment),N(e,i.target,i.anchor,i.customElement),function(){a=!1;for(const t of s)t.parentNode.removeChild(t);s.clear()}(),j()}y(p)}class D{$destroy(){F(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}
/*! For license information please see shifty.js.LICENSE.txt */
var G,L=(function(t,e){self,t.exports=function(){var t={720:function(t,e,n){n.r(e),n.d(e,{Scene:function(){return Jt},Tweenable:function(){return mt},interpolate:function(){return zt},processTweens:function(){return ht},setBezierFunction:function(){return Xt},tween:function(){return gt},unsetBezierFunction:function(){return Zt}});var r={};n.r(r),n.d(r,{bounce:function(){return q},bouncePast:function(){return N},easeFrom:function(){return R},easeFromTo:function(){return F},easeInBack:function(){return j},easeInCirc:function(){return k},easeInCubic:function(){return c},easeInExpo:function(){return b},easeInOutBack:function(){return C},easeInOutCirc:function(){return P},easeInOutCubic:function(){return f},easeInOutExpo:function(){return O},easeInOutQuad:function(){return u},easeInOutQuart:function(){return d},easeInOutQuint:function(){return y},easeInOutSine:function(){return w},easeInQuad:function(){return a},easeInQuart:function(){return l},easeInQuint:function(){return m},easeInSine:function(){return v},easeOutBack:function(){return E},easeOutBounce:function(){return T},easeOutCirc:function(){return x},easeOutCubic:function(){return h},easeOutExpo:function(){return S},easeOutQuad:function(){return s},easeOutQuart:function(){return p},easeOutQuint:function(){return g},easeOutSine:function(){return _},easeTo:function(){return I},elastic:function(){return M},linear:function(){return o},swingFrom:function(){return $},swingFromTo:function(){return A},swingTo:function(){return W}});var i={};n.r(i),n.d(i,{afterTween:function(){return It},beforeTween:function(){return Rt},doesApply:function(){return Nt},tweenCreated:function(){return Ft}});var o=function(t){return t},a=function(t){return Math.pow(t,2)},s=function(t){return-(Math.pow(t-1,2)-1)},u=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},c=function(t){return Math.pow(t,3)},h=function(t){return Math.pow(t-1,3)+1},f=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},l=function(t){return Math.pow(t,4)},p=function(t){return-(Math.pow(t-1,4)-1)},d=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},m=function(t){return Math.pow(t,5)},g=function(t){return Math.pow(t-1,5)+1},y=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},v=function(t){return 1-Math.cos(t*(Math.PI/2))},_=function(t){return Math.sin(t*(Math.PI/2))},w=function(t){return-.5*(Math.cos(Math.PI*t)-1)},b=function(t){return 0===t?0:Math.pow(2,10*(t-1))},S=function(t){return 1===t?1:1-Math.pow(2,-10*t)},O=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},k=function(t){return-(Math.sqrt(1-t*t)-1)},x=function(t){return Math.sqrt(1-Math.pow(t-1,2))},P=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},T=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},j=function(t){var e=1.70158;return t*t*((e+1)*t-e)},E=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},C=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},M=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},A=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},$=function(t){var e=1.70158;return t*t*((e+1)*t-e)},W=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},q=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},N=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},F=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},R=function(t){return Math.pow(t,4)},I=function(t){return Math.pow(t,.25)};function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Y,Q,V,K="linear",H="undefined"!=typeof window?window:n.g,J="afterTween",X="afterTweenEnd",Z="beforeTween",tt="tweenCreated",et="function",nt="string",rt=H.requestAnimationFrame||H.webkitRequestAnimationFrame||H.oRequestAnimationFrame||H.msRequestAnimationFrame||H.mozCancelRequestAnimationFrame&&H.mozRequestAnimationFrame||setTimeout,it=function(){},ot=null,at=null,st=U({},r),ut=function(t,e,n,r,i,o,a){var s,u,c,h=t<o?0:(t-o)/i,f=!1;for(var l in a&&a.call&&(f=!0,s=a(h)),e)f||(s=((u=a[l]).call?u:st[u])(h)),c=n[l],e[l]=c+(r[l]-c)*s;return e},ct=function(t,e){var n=t._timestamp,r=t._currentState,i=t._delay;if(!(e<n+i)){var o=t._duration,a=t._targetState,s=n+i+o,u=e>s?s:e,c=u>=s,h=o-(s-u),f=t._filters.length>0;if(c)return t._render(a,t._data,h),t.stop(!0);f&&t._applyFilter(Z),u<n+i?n=o=u=1:n+=i,ut(u,r,t._originalState,a,o,n,t._easing),f&&t._applyFilter(J),t._render(r,t._data,h)}},ht=function(){for(var t,e=mt.now(),n=ot;n;)t=n._next,ct(n,e),n=t},ft=Date.now||function(){return+new Date},lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=L(e);if(st[e])return st[e];if(r===nt||r===et)for(var i in t)n[i]=e;else for(var o in t)n[o]=e[o]||K;return n},pt=function(t){t===ot?(ot=t._next)?ot._previous=null:at=null:t===at?(at=t._previous)?at._next=null:ot=null:(Q=t._previous,V=t._next,Q._next=V,V._previous=Q),t._previous=t._next=null},dt="function"==typeof Promise?Promise:null,mt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;D(this,t),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._resolve=null,this._reject=null,this._currentState=e||{},this._originalState={},this._targetState={},this._start=it,this._render=it,this._promiseCtor=dt,n&&this.setConfig(n)}var e;return(e=[{key:"_applyFilter",value:function(t){for(var e=this._filters.length;e>0;e--){var n=this._filters[e-e][t];n&&n(this)}}},{key:"tween",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._isPlaying&&this.stop(),!e&&this._config||this.setConfig(e),this._pausedAtTime=null,this._timestamp=t.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._config;for(var r in e)n[r]=e[r];var i=n.promise,o=void 0===i?this._promiseCtor:i,a=n.start,s=void 0===a?it:a,u=n.finish,c=n.render,h=void 0===c?this._config.step||it:c,f=n.step,l=void 0===f?it:f;this._data=n.data||n.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=s,this._render=h||l,this._duration=n.duration||500,this._promiseCtor=o,u&&(this._resolve=u);var p=e.from,d=e.to,m=void 0===d?{}:d,g=this._currentState,y=this._originalState,v=this._targetState;for(var _ in p)g[_]=p[_];var w=!1;for(var b in g){var S=g[b];w||L(S)!==nt||(w=!0),y[b]=S,v[b]=m.hasOwnProperty(b)?m[b]:S}if(this._easing=lt(this._currentState,n.easing,this._easing),this._filters.length=0,w){for(var O in t.filters)t.filters[O].doesApply(this)&&this._filters.push(t.filters[O]);this._applyFilter(tt)}return this}},{key:"then",value:function(t,e){var n=this;return this._promise=new this._promiseCtor((function(t,e){n._resolve=t,n._reject=e})),this._promise.then(t,e)}},{key:"catch",value:function(t){return this.then().catch(t)}},{key:"get",value:function(){return U({},this._currentState)}},{key:"set",value:function(t){this._currentState=t}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=t.now(),this._isPlaying=!1,pt(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=e-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===ot?(ot=this,at=this):(this._previous=at,at._next=this,at=this),this)}},{key:"seek",value:function(e){e=Math.max(e,0);var n=t.now();return this._timestamp+e===0||(this._timestamp=n-e,ct(this,n)),this}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,pt(this);var e=this._filters.length>0;t&&(e&&this._applyFilter(Z),ut(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),e&&(this._applyFilter(J),this._applyFilter(X))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null;var n=this._currentState,r=this._originalState,i=this._targetState;for(var o in n)r[o]=i[o]=n[o];return this}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._currentState,n=this._data;return this._isPlaying?(this._reject&&this._reject({data:n,state:e,tweenable:this}),this._resolve=null,this._reject=null,this.stop(t)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"setScheduleFunction",value:function(e){t.setScheduleFunction(e)}},{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t&&(this._data=U({},t)),this._data}},{key:"dispose",value:function(){for(var t in this)delete this[t]}}])&&G(t.prototype,e),t}();function gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new mt;return e.tween(t),e.tweenable=e,e}z(mt,"now",(function(){return Y})),mt.setScheduleFunction=function(t){return rt=t},mt.formulas=st,mt.filters={},function t(){Y=ft(),rt.call(H,t,16.666666666666668),ht()}();var yt,vt,_t=/(\d|-|\.)/,wt=/([^\-0-9.]+)/g,bt=/[0-9.-]+/g,St=(yt=bt.source,vt=/,\s*/.source,new RegExp("rgb\\(".concat(yt).concat(vt).concat(yt).concat(vt).concat(yt,"\\)"),"g")),Ot=/^.*\(/,kt=/#([0-9]|[a-f]){3,6}/gi,xt="VAL",Pt=function(t,e){return t.map((function(t,n){return"_".concat(e,"_").concat(n)}))};function Tt(t){return parseInt(t,16)}var jt=function(t){return"rgb(".concat((e=t,3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[Tt(e.substr(0,2)),Tt(e.substr(2,2)),Tt(e.substr(4,2))]).join(","),")");var e},Et=function(t,e,n){var r=e.match(t),i=e.replace(t,xt);return r&&r.forEach((function(t){return i=i.replace(xt,n(t))})),i},Ct=function(t){for(var e in t){var n=t[e];"string"==typeof n&&n.match(kt)&&(t[e]=Et(kt,n,jt))}},Mt=function(t){var e=t.match(bt).map(Math.floor),n=t.match(Ot)[0];return"".concat(n).concat(e.join(","),")")},At=function(t){return t.match(bt)},$t=function(t,e){var n={};return e.forEach((function(e){n[e]=t[e],delete t[e]})),n},Wt=function(t,e){return e.map((function(e){return t[e]}))},qt=function(t,e){return e.forEach((function(e){return t=t.replace(xt,+e.toFixed(4))})),t},Nt=function(t){for(var e in t._currentState)if("string"==typeof t._currentState[e])return!0;return!1};function Ft(t){var e=t._currentState;[e,t._originalState,t._targetState].forEach(Ct),t._tokenData=function(t){var e,n,r={};for(var i in t){var o=t[i];"string"==typeof o&&(r[i]={formatString:(e=o,n=void 0,n=e.match(wt),n?(1===n.length||e.charAt(0).match(_t))&&n.unshift(""):n=["",""],n.join(xt)),chunkNames:Pt(At(o),i)})}return r}(e)}function Rt(t){var e=t._currentState,n=t._originalState,r=t._targetState,i=t._easing,o=t._tokenData;!function(t,e){var n=function(n){var r=e[n].chunkNames,i=t[n];if("string"==typeof i){var o=i.split(" "),a=o[o.length-1];r.forEach((function(e,n){return t[e]=o[n]||a}))}else r.forEach((function(e){return t[e]=i}));delete t[n]};for(var r in e)n(r)}(i,o),[e,n,r].forEach((function(t){return function(t,e){var n=function(n){At(t[n]).forEach((function(r,i){return t[e[n].chunkNames[i]]=+r})),delete t[n]};for(var r in e)n(r)}(t,o)}))}function It(t){var e=t._currentState,n=t._originalState,r=t._targetState,i=t._easing,o=t._tokenData;[e,n,r].forEach((function(t){return function(t,e){for(var n in e){var r=e[n],i=r.chunkNames,o=r.formatString,a=qt(o,Wt($t(t,i),i));t[n]=Et(St,a,Mt)}}(t,o)})),function(t,e){for(var n in e){var r=e[n].chunkNames,i=t[r[0]];t[n]="string"==typeof i?r.map((function(e){var n=t[e];return delete t[e],n})).join(" "):i}}(i,o)}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){Lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bt=new mt,Ut=mt.filters,zt=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=Gt({},t),a=lt(t,r);for(var s in Bt._filters.length=0,Bt.set({}),Bt._currentState=o,Bt._originalState=t,Bt._targetState=e,Bt._easing=a,Ut)Ut[s].doesApply(Bt)&&Bt._filters.push(Ut[s]);Bt._applyFilter("tweenCreated"),Bt._applyFilter("beforeTween");var u=ut(n,o,t,e,1,i,a);return Bt._applyFilter("afterTween"),u};function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}var Ht=new WeakMap,Jt=function(){function t(){Qt(this,t),Ht.set(this,{writable:!0,value:[]});for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(this.add.bind(this))}var e;return(e=[{key:"add",value:function(t){return Kt(this,Ht).push(t),t}},{key:"remove",value:function(t){var e=Kt(this,Ht).indexOf(t);return~e&&Kt(this,Ht).splice(e,1),t}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return Kt(this,Ht).some((function(t){return t.isPlaying()}))}},{key:"play",value:function(){return Kt(this,Ht).forEach((function(t){return t.tween()})),this}},{key:"pause",value:function(){return Kt(this,Ht).forEach((function(t){return t.pause()})),this}},{key:"resume",value:function(){return Kt(this,Ht).forEach((function(t){return t.resume()})),this}},{key:"stop",value:function(t){return Kt(this,Ht).forEach((function(e){return e.stop(t)})),this}},{key:"tweenables",get:function(){return function(t){if(Array.isArray(t))return Yt(t)}(t=Kt(this,Ht))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Yt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t}},{key:"promises",get:function(){return Kt(this,Ht).map((function(t){return t.then()}))}}])&&Vt(t.prototype,e),t}(),Xt=function(t,e,n,r,i){var o=function(t,e,n,r){return function(i){return h=0,f=0,l=0,p=function(t){return((h*t+f)*t+l)*t},d=function(t){return(3*h*t+2*f)*t+l},m=function(t){return t>=0?t:0-t},h=1-(l=3*(o=t))-(f=3*(n-o)-l),s=1-(c=3*(a=e))-(u=3*(r-a)-c),function(t){return((s*t+u)*t+c)*t}(function(t,e){var n,r,i,o,a,s;for(i=t,s=0;s<8;s++){if(o=p(i)-t,m(o)<e)return i;if(a=d(i),m(a)<1e-6)break;i-=o/a}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=p(i),m(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i}(i,.005));var o,a,s,u,c,h,f,l,p,d,m}}(e,n,r,i);return o.displayName=t,o.x1=e,o.y1=n,o.x2=r,o.y2=i,mt.formulas[t]=o},Zt=function(t){return delete mt.formulas[t]};mt.filters.token=i}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}return n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(720)}()}(G={exports:{}},G.exports),G.exports),B="Webkit Moz O ms".split(" ");function U(t,e,n){for(var r=t.style,i=0;i<B.length;++i){r[B[i]+z(e)]=n}r[e]=n}function z(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Y(t){return!function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t)&&("object"===typeof t&&!!t)}function Q(t,e){for(var n in t){if(t.hasOwnProperty(n))e(t[n],n)}}var V={extend:function t(e,n,r){for(var i in e=e||{},r=r||!1,n=n||{})if(n.hasOwnProperty(i)){var o=e[i],a=n[i];r&&Y(o)&&Y(a)?e[i]=t(o,a,r):e[i]=a}return e},render:function(t,e){var n=t;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=new RegExp("\\{"+r+"\\}","g");n=n.replace(o,i)}return n},setStyle:U,setStyles:function(t,e){Q(e,(function(e,n){null!=e&&(Y(e)&&!0===e.prefix?U(t,n,e.value):t.style[n]=e)}))},capitalize:z,isString:function(t){return"string"==typeof t||t instanceof String},isFunction:function(t){return"function"==typeof t},isObject:Y,forEachObject:Q,floatEquals:function(t,e){return Math.abs(t-e)<.001},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},K=L.Tweenable,H={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},J=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");var r;n=V.extend({delay:0,duration:800,easing:"linear",from:{},to:{},step:function(){}},n),r=V.isString(e)?document.querySelector(e):e,this.path=r,this._opts=n,this._tweenable=null;var i=this.path.getTotalLength();this.path.style.strokeDasharray=i+" "+i,this.set(0)};J.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength();return parseFloat((1-t/e).toFixed(6),10)},J.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(V.isFunction(e)){var n=this._easing(this._opts.easing);e(this._calculateTo(t,n),this._opts.shape||this,this._opts.attachment)}},J.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},J.prototype.animate=function(t,e,n){e=e||{},V.isFunction(e)&&(n=e,e={});var r=V.extend({},e),i=V.extend({},this._opts);e=V.extend(i,e);var o=this._easing(e.easing),a=this._resolveFromAndTo(t,o,r);this.stop(),this.path.getBoundingClientRect();var s=this._getComputedDashOffset(),u=this._progressToOffset(t),c=this;this._tweenable=new K,this._tweenable.tween({from:V.extend({offset:s},a.from),to:V.extend({offset:u},a.to),duration:e.duration,delay:e.delay,easing:o,step:function(t){c.path.style.strokeDashoffset=t.offset;var n=e.shape||c;e.step(t,n,e.attachment)}}).then((function(t){V.isFunction(n)&&n()}))},J.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},J.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},J.prototype._resolveFromAndTo=function(t,e,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},J.prototype._calculateFrom=function(t){return L.interpolate(this._opts.from,this._opts.to,this.value(),t)},J.prototype._calculateTo=function(t,e){return L.interpolate(this._opts.from,this._opts.to,t,e)},J.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},J.prototype._easing=function(t){return H.hasOwnProperty(t)?H[t]:t};var X=J,Z="Object is destroyed",tt=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=V.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),V.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),V.isObject(n)&&V.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var r,i=this._createSvgView(this._opts);if(!(r=V.isString(e)?document.querySelector(e):e))throw new Error("Container does not exist: "+e);this._container=r,this._container.appendChild(i.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&V.setStyles(i.svg,this._opts.svgStyle),this.svg=i.svg,this.path=i.path,this.trail=i.trail,this.text=null;var o=V.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new X(i.path,o),V.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};tt.prototype.animate=function(t,e,n){if(null===this._progressPath)throw new Error(Z);this._progressPath.animate(t,e,n)},tt.prototype.stop=function(){if(null===this._progressPath)throw new Error(Z);void 0!==this._progressPath&&this._progressPath.stop()},tt.prototype.pause=function(){if(null===this._progressPath)throw new Error(Z);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.pause()},tt.prototype.resume=function(){if(null===this._progressPath)throw new Error(Z);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.resume()},tt.prototype.destroy=function(){if(null===this._progressPath)throw new Error(Z);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},tt.prototype.set=function(t){if(null===this._progressPath)throw new Error(Z);this._progressPath.set(t)},tt.prototype.value=function(){if(null===this._progressPath)throw new Error(Z);return void 0===this._progressPath?0:this._progressPath.value()},tt.prototype.setText=function(t){if(null===this._progressPath)throw new Error(Z);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),V.isObject(t)?(V.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},tt.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var n=null;(t.trailColor||t.trailWidth)&&(n=this._createTrail(t),e.appendChild(n));var r=this._createPath(t);return e.appendChild(r),{svg:e,path:r,trail:n}},tt.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},tt.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},tt.prototype._createTrail=function(t){var e=this._trailString(t),n=V.extend({},t);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(e,n)},tt.prototype._createPathElement=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n.setAttribute("stroke",e.color),n.setAttribute("stroke-width",e.strokeWidth),e.fill?n.setAttribute("fill",e.fill):n.setAttribute("fill-opacity","0"),n},tt.prototype._createTextContainer=function(t,e){var n=document.createElement("div");n.className=t.text.className;var r=t.text.style;return r&&(t.text.autoStyleContainer&&(e.style.position="relative"),V.setStyles(n,r),r.color||(n.style.color=t.color)),this._initializeTextContainer(t,e,n),n},tt.prototype._initializeTextContainer=function(t,e,n){},tt.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},tt.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},tt.prototype._warnContainerAspectRatio=function(t){if(this.containerAspectRatio){var e=window.getComputedStyle(t,null),n=parseFloat(e.getPropertyValue("width"),10),r=parseFloat(e.getPropertyValue("height"),10);V.floatEquals(this.containerAspectRatio,n/r)||(console.warn("Incorrect aspect ratio of container","#"+t.id,"detected:",e.getPropertyValue("width")+"(width)","/",e.getPropertyValue("height")+"(height)","=",n/r),console.warn("Aspect ratio of should be",this.containerAspectRatio))}};var et=tt,nt=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",et.apply(this,arguments)};(nt.prototype=new et).constructor=nt,nt.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},nt.prototype._pathString=function(t){return V.render(this._pathTemplate,{center:t.strokeWidth/2})},nt.prototype._trailString=function(t){return this._pathString(t)};var rt=nt,it=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,et.apply(this,arguments)};(it.prototype=new et).constructor=it,it.prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var n=50-e/2;return V.render(this._pathTemplate,{radius:n,"2radius":2*n})},it.prototype._trailString=function(t){return this._pathString(t)};var ot=it,at=function(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,et.apply(this,arguments)};(at.prototype=new et).constructor=at,at.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},at.prototype._initializeTextContainer=function(t,e,n){t.text.style&&(n.style.top="auto",n.style.bottom="0",t.text.alignToBottom?V.setStyle(n,"transform","translate(-50%, 0)"):V.setStyle(n,"transform","translate(-50%, 50%)"))},at.prototype._pathString=ot.prototype._pathString,at.prototype._trailString=ot.prototype._trailString;var st=at,ut=function(t,e){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",et.apply(this,arguments)};(ut.prototype=new et).constructor=ut,ut.prototype._pathString=function(t){var e=100-t.strokeWidth/2;return V.render(this._pathTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2})},ut.prototype._trailString=function(t){var e=100-t.strokeWidth/2;return V.render(this._trailTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2,startMargin:t.strokeWidth/2-t.trailWidth/2})};var ct={Line:rt,Circle:ot,SemiCircle:st,Square:ut,Path:X,Shape:et,utils:V},ht=function(t,e){return(ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ft=function(){return(ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function lt(t){return Object.keys(t).some((function(e){var n=t[e];if(!n)return!1;switch(n&&n.toParam&&(n=n.toParam()),n.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function pt(t){var e={};return Object.keys(t).forEach((function(n){var r,i,o=t[n];if(o&&o.toParam&&(o=o.toParam()),o||0===o||"boolean"==typeof o||"string"==typeof o){var a;switch(o.constructor.name){case"Array":var s=null===(i=null===(r=o[0])||void 0===r?void 0:r.constructor)||void 0===i?void 0:i.name;a="Array"===s?o:"Object"===s?JSON.stringify(o):o.join(",");break;case"Object":a=JSON.stringify(o);break;case"Date":a=o.valueOf();break;case"Function":a=null;break;case"Boolean":a=o+"";break;default:a=o}(a||0===a||"string"==typeof a||Array.isArray(a))&&(e[n]=a)}})),e}function dt(t,e){return Array.isArray(e)&&e[0]&&Array.isArray(e[0])?e.map((function(e){return dt(t,e)})).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(e)}function mt(t){var e=pt(t);return Object.keys(e).map((function(t){return dt(t,e[t])})).join("&")}var gt=function(t,e,n,r,i){t=t||"UNKNOWN_ERROR",e=e||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===e?t:e+": "+t,this.originalMessage=t,this.code=e,this.response=n,this.url=r,this.options=i};function yt(t){console&&console.warn&&console.warn.apply(console,[t])}gt.prototype=Object.create(Error.prototype),gt.prototype.constructor=gt;var vt={httpMethod:"POST",params:{f:"json"}},_t=function(t){function e(e,n,r,i,o){void 0===e&&(e="AUTHENTICATION_ERROR"),void 0===n&&(n="AUTHENTICATION_ERROR_CODE");var a=t.call(this,e,n,r,i,o)||this;return a.name="ArcGISAuthError",a.message="AUTHENTICATION_ERROR_CODE"===n?e:n+": "+e,a}return function(t,e){function n(){this.constructor=t}ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.retry=function(t,e){var n=this;void 0===e&&(e=3);var r=0,i=function(o,a){t(n.url,n.options).then((function(t){var e=ft(ft({},n.options),{authentication:t});return r+=1,wt(n.url,e)})).then((function(t){o(t)})).catch((function(t){"ArcGISAuthError"===t.name&&r<e?i(o,a):"ArcGISAuthError"===t.name&&r>=e?a(n):a(t)}))};return new Promise((function(t,e){i(t,e)}))},e}(gt);function wt(t,e){void 0===e&&(e={params:{f:"json"}});var n=ft(ft(ft({httpMethod:"POST"},vt),e),{params:ft(ft({},vt.params),e.params),headers:ft(ft({},vt.headers),e.headers)}),r=[],i=[];if(n.fetch||"undefined"==typeof fetch?(r.push("`fetch`"),i.push("`node-fetch`")):n.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(r.push("`Promise`"),i.push("`es6-promise`")),"undefined"==typeof FormData&&(r.push("`FormData`"),i.push("`isomorphic-form-data`")),!n.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+r.join(", ")+". We recommend installing the "+i.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var o=n.httpMethod,a=n.authentication,s=n.rawResponse,u=ft({f:"json"},n.params),c=null,h={method:o,credentials:"same-origin"};return n.headers&&n.headers["X-Esri-Auth-Client-Id"]&&t.indexOf("/oauth2/platformSelf")>-1&&(h.credentials="include"),(a?a.getToken(t,{fetch:n.fetch}).catch((function(e){return e.url=t,e.options=n,c=e,Promise.resolve("")})):Promise.resolve("")).then((function(e){e.length&&(u.token=e);var r={};if("GET"===h.method){u.token&&n.hideToken&&"undefined"==typeof window&&(r["X-Esri-Authorization"]="Bearer "+u.token,delete u.token);var i=""===mt(u)?t:t+"?"+mt(u);n.maxUrlLength&&i.length>n.maxUrlLength||u.token&&n.hideToken?(h.method="POST",e.length&&n.hideToken&&(u.token=e,delete r["X-Esri-Authorization"])):t=i}var o=new RegExp("/items/.+/updateResources").test(t);return"POST"===h.method&&(h.body=function(t,e){var n=lt(t)||e,r=pt(t);if(n){var i=new FormData;return Object.keys(r).forEach((function(t){if("undefined"!=typeof Blob&&r[t]instanceof Blob){var e=r.fileName||r[t].name||t;i.append(t,r[t],e)}else i.append(t,r[t])})),i}return mt(t)}(u,o)),h.headers=ft(ft({},r),n.headers),"undefined"!=typeof window||h.headers.referer||(h.headers.referer="@esri/arcgis-rest-js"),lt(u)||o||(h.headers["Content-Type"]="application/x-www-form-urlencoded"),n.fetch(t,h)})).then((function(e){if(!e.ok){var r=e.status,i=e.statusText;throw new gt(i,"HTTP "+r,e,t,n)}if(s)return e;switch(u.f){case"json":case"geojson":return e.json();case"html":case"text":return e.text();default:return e.blob()}})).then((function(e){if("json"!==u.f&&"geojson"!==u.f||s)return e;var r=function(t,e,n,r,i){if(t.code>=400){var o=t.message,a=t.code;throw new gt(o,a,t,e,r)}if(t.error){var s=t.error,u=(o=s.message,a=s.code,s.messageCode),c=u||a||"UNKNOWN_ERROR_CODE";if(498===a||499===a||"GWM_0003"===u||400===a&&"Unable to generate token."===o)throw i||new _t(o,c,t,e,r);throw new gt(o,c,t,e,r)}if("failed"===t.status||"failure"===t.status){o=void 0,a="UNKNOWN_ERROR_CODE";try{o=JSON.parse(t.statusMessage).message,a=JSON.parse(t.statusMessage).code}catch(e){o=t.statusMessage||t.message}throw new gt(o,a,t,e,r)}return t}(e,t,0,n,c);if(c){var i=t.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];n.authentication.trustedServers[i]={token:[],expires:new Date(Date.now()+864e5)},c=null}return r}))}var bt=function(){function t(t){void 0===t&&(t=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=t}return t.prototype.match=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.termStack=this.termStack.concat(t),this},t.prototype.in=function(t){var e="`in("+(t?'"'+t+'"':"")+")`";return this.hasRange||this.hasTerms?(t&&"*"!==t&&(this.q+=t+":"),this.commit()):(yt(e+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},t.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},t.prototype.endGroup=function(){return this.openGroups<=0?(yt("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},t.prototype.and=function(){return this.addModifier("and")},t.prototype.or=function(){return this.addModifier("or")},t.prototype.not=function(){return this.addModifier("not")},t.prototype.from=function(t){return this.hasTerms?(yt("`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[0]=t,this)},t.prototype.to=function(t){return this.hasTerms?(yt("`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[1]=t,this)},t.prototype.boost=function(t){return this.commit(),this.q+="^"+t,this},t.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},t.prototype.clone=function(){return this.commit(),this.cleanup(),new t(this.q+"")},t.prototype.addModifier=function(t){return this.currentModifer?(yt("You have called `"+this.currentModifer+"()` after `"+t+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==t?(yt("You have called `"+t+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=t,this.q+=""===this.q?"":" ",this.q+=t.toUpperCase()+" ",this))},t.prototype.hasWhiteSpace=function(t){return/\s/g.test(t)},t.prototype.formatTerm=function(t){return t instanceof Date?t.getTime():"string"==typeof t&&this.hasWhiteSpace(t)?'"'+t+'"':t},t.prototype.commit=function(){var t=this;return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map((function(e){return t.formatTerm(e)})).join(" "),this.termStack=[]),this},Object.defineProperty(t.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!1,configurable:!0}),t.prototype.cleanup=function(){if(this.openGroups>0)for(yt("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--;var t=this.q;this.q=t.replace(/( AND ?| NOT ?| OR ?)*$/,""),t!==this.q&&yt("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},t}();function St(t,e){var n,r;switch(n="string"==typeof t||t instanceof bt?{httpMethod:"GET",params:{q:t}}:function(t,e,n){var r=ft(ft({params:{}},n),t);return r.params=e.reduce((function(e,n){return(t[n]||"boolean"==typeof t[n])&&(e[n]=t[n]),e}),r.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce((function(t,e){return r[e]&&(t[e]=r[e]),t}),{})}(t,["q","num","start","sortField","sortOrder"],{httpMethod:"GET"}),e){case"item":r="/search";break;case"group":r="/community/groups";break;case"groupContent":if("string"==typeof t||t instanceof bt||!t.groupId)return Promise.reject(new Error("you must pass a `groupId` option to `searchGroupContent`"));r="/content/groups/"+t.groupId+"/search";break;default:r="/portals/self/users/search"}return wt(function(t){return void 0===t&&(t={}),t.portal?("string"!=typeof(e=t.portal)||"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e):t.authentication?t.authentication.portal:"https://www.arcgis.com/sharing/rest";var e}(n)+r,n).then((function(n){return n.nextStart&&-1!==n.nextStart&&(n.nextPage=function(){var r;return"string"==typeof t||t instanceof bt?r={q:t,start:n.nextStart}:(r=t).start=n.nextStart,St(r,e)}),n}))}function Ot(t){let e,n,r,i;return{c(){e=f("a"),n=f("img"),n.src!==(r=`https://www.arcgis.com/sharing/rest/content/items/${t[0].id}/info/${t[0].thumbnail}`)&&d(n,"src",r),d(n,"alt","Map thumbnail"),d(n,"class","svelte-uchxmd"),d(e,"href",i=`https://www.arcgis.com/apps/mapviewer/index.html?webmap=${t[0].id}`),d(e,"target","_blank")},m(t,r){c(t,e,r),u(e,n)},p(t,o){1&o&&n.src!==(r=`https://www.arcgis.com/sharing/rest/content/items/${t[0].id}/info/${t[0].thumbnail}`)&&d(n,"src",r),1&o&&i!==(i=`https://www.arcgis.com/apps/mapviewer/index.html?webmap=${t[0].id}`)&&d(e,"href",i)},d(t){t&&h(e)}}}function kt(e){let n,r,i,o,a,s,g,y,v,_,w,b,S,O=e[0].title+"",k=e[0].owner+"",x=new Date(e[0].modified)+"",P=e[0].thumbnail&&Ot(e);return{c(){n=f("div"),P&&P.c(),r=l("\n  Title:\n  "),i=f("a"),o=l(O),s=f("br"),g=l("\n  Owner: "),y=l(k),v=f("br"),_=l("\n  Modified: "),w=l(x),b=p(),S=f("div"),d(i,"href",a=`https://www.arcgis.com/apps/mapviewer/index.html?webmap=${e[0].id}`),d(i,"target","_blank"),d(S,"class","clear svelte-uchxmd"),d(n,"class","item svelte-uchxmd")},m(t,a){c(t,n,a),P&&P.m(n,null),u(n,r),u(n,i),u(i,o),u(n,s),u(n,g),u(n,y),u(n,v),u(n,_),u(n,w),u(n,b),u(n,S),e[2](n)},p(t,[e]){t[0].thumbnail?P?P.p(t,e):(P=Ot(t),P.c(),P.m(n,r)):P&&(P.d(1),P=null),1&e&&O!==(O=t[0].title+"")&&m(o,O),1&e&&a!==(a=`https://www.arcgis.com/apps/mapviewer/index.html?webmap=${t[0].id}`)&&d(i,"href",a),1&e&&k!==(k=t[0].owner+"")&&m(y,k),1&e&&x!==(x=new Date(t[0].modified)+"")&&m(w,x)},i:t,o:t,d(t){t&&h(n),P&&P.d(),e[2](null)}}}function xt(t,e,n){let r,{item:i}=e;return v((()=>{setTimeout((()=>{r.classList.add("old")}),1500)})),t.$$set=t=>{"item"in t&&n(0,i=t.item)},[i,r,function(t){w[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class Pt extends D{constructor(t){super(),I(this,t,xt,kt,o,{item:0})}}function Tt(t,e,n){const r=t.slice();return r[7]=e[n],r}function jt(t,e){let n,r,i;return r=new Pt({props:{item:e[7]}}),{key:t,first:null,c(){n=l(""),q(r.$$.fragment),this.first=n},m(t,e){c(t,n,e),N(r,t,e),i=!0},p(t,n){e=t;const i={};2&n&&(i.item=e[7]),r.$set(i)},i(t){i||(A(r.$$.fragment,t),i=!0)},o(t){$(r.$$.fragment,t),i=!1},d(t){t&&h(n),F(r,t)}}}function Et(t){let e,n,i,o,a,s=[],l=new Map,m=t[1];const g=t=>t[7].id+"-"+t[7].uniqueId;for(let e=0;e<m.length;e+=1){let n=Tt(t,m,e),r=g(n);l.set(r,s[e]=jt(r,n))}return{c(){e=f("div"),n=f("div"),i=p(),o=f("div");for(let t=0;t<s.length;t+=1)s[t].c();d(n,"class","progressBar svelte-d2h8hw"),d(o,"class","itemsWrapper svelte-d2h8hw")},m(r,h){c(r,e,h),u(e,n),t[2](n),u(e,i),u(e,o);for(let t=0;t<s.length;t+=1)s[t].m(o,null);a=!0},p(t,[e]){2&e&&(m=t[1],M={r:0,c:[],p:M},s=function(t,e,n,r,i,o,a,s,u,c,h,f){let l=t.length,p=o.length,d=l;const m={};for(;d--;)m[t[d].key]=d;const g=[],y=new Map,v=new Map;for(d=p;d--;){const t=f(i,o,d),s=n(t);let u=a.get(s);u?r&&u.p(t,e):(u=c(s,t),u.c()),y.set(s,g[d]=u),s in m&&v.set(s,Math.abs(d-m[s]))}const _=new Set,w=new Set;function b(t){A(t,1),t.m(s,h),a.set(t.key,t),h=t.first,p--}for(;l&&p;){const e=g[p-1],n=t[l-1],r=e.key,i=n.key;e===n?(h=e.first,l--,p--):y.has(i)?!a.has(r)||_.has(r)?b(e):w.has(i)?l--:v.get(r)>v.get(i)?(w.add(r),b(e)):(_.add(i),l--):(u(n,a),l--)}for(;l--;){const e=t[l];y.has(e.key)||u(e,a)}for(;p;)b(g[p-1]);return g}(s,e,g,1,t,m,l,o,W,jt,null,Tt),M.r||r(M.c),M=M.p)},i(t){if(!a){for(let t=0;t<m.length;t+=1)A(s[t]);a=!0}},o(t){for(let t=0;t<s.length;t+=1)$(s[t]);a=!1},d(n){n&&h(e),t[2](null);for(let t=0;t<s.length;t+=1)s[t].d()}}}function Ct(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};let i,o,a;const s=()=>r(void 0,void 0,void 0,(function*(){var t;(t=>{if(a&&a.length>0){const e=[],r=a[0].modified;t.find((t=>t.modified===r||(t.uniqueId=Math.random(),e.push(t),!1))),n(1,a=[...e,...a])}else n(1,a=t)})((yield(t={q:'((type: "Web Map")) AND NOT type:"Web Mapping Application"',sortField:"modified",sortOrder:"desc"},St(t,"item"))).results);setTimeout(s,1e4),o.set(1),o.animate(0,{duration:1e4})}));return v((()=>r(void 0,void 0,void 0,(function*(){s(),o=new ct.Circle(i,{strokeWidth:6})})))),n(1,a=[]),[i,a,function(t){w[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class Mt extends D{constructor(t){super(),I(this,t,Ct,Et,o,{})}}function At(e){let n,r,i,o,a,s;return a=new Mt({}),{c(){n=f("main"),r=f("h1"),r.textContent="Map Stream",i=p(),o=f("div"),q(a.$$.fragment)},m(t,e){c(t,n,e),u(n,r),u(n,i),u(n,o),N(a,o,null),s=!0},p:t,i(t){s||(A(a.$$.fragment,t),s=!0)},o(t){$(a.$$.fragment,t),s=!1},d(t){t&&h(n),F(a)}}}return new class extends D{constructor(t){super(),I(this,t,null,At,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
