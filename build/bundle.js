var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a=!1;const s=new Set;function u(t,e){a&&s.delete(e),e.parentNode!==t&&t.appendChild(e)}function c(t,e,n){a&&s.delete(e),(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function h(t){a?s.add(t):t.parentNode&&t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function p(){return l(" ")}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let g;function y(t){g=t}function v(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const _=[],w=[],b=[],S=[],O=Promise.resolve();let k=!1;function x(t){b.push(t)}let P=!1;const T=new Set;function j(){if(!P){P=!0;do{for(let t=0;t<_.length;t+=1){const e=_[t];y(e),E(e.$$)}for(y(null),_.length=0;w.length;)w.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];T.has(e)||(T.add(e),e())}b.length=0}while(_.length);for(;S.length;)S.pop()();k=!1,P=!1,T.clear()}}function E(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const C=new Set;let A;function M(t,e){t&&t.i&&(C.delete(t),t.i(e))}function $(t,e,n,r){if(t&&t.o){if(C.has(t))return;C.add(t),A.c.push((()=>{C.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function W(t){t&&t.c()}function q(t,n,i,a){const{fragment:s,on_mount:u,on_destroy:c,after_update:h}=t.$$;s&&s.m(n,i),a||x((()=>{const n=u.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]})),h.forEach(x)}function N(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(_.push(t),k||(k=!0,O.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(e,o,i,u,c,f,l=[-1]){const p=g;y(e);const d=e.$$={fragment:null,ctx:null,props:f,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:o.context||[]),callbacks:n(),dirty:l,skip_bound:!1};let m=!1;if(d.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),m&&F(e,t)),n})):[],d.update(),m=!0,r(d.before_update),d.fragment=!!u&&u(d.ctx),o.target){if(o.hydrate){a=!0;const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(h)}else d.fragment&&d.fragment.c();o.intro&&M(e.$$.fragment),q(e,o.target,o.anchor,o.customElement),function(){a=!1;for(const t of s)t.parentNode.removeChild(t);s.clear()}(),j()}y(p)}class I{$destroy(){N(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}
/*! For license information please see shifty.js.LICENSE.txt */
var D,G=(function(t,e){self,t.exports=function(){var t={720:function(t,e,n){n.r(e),n.d(e,{Scene:function(){return Jt},Tweenable:function(){return mt},interpolate:function(){return zt},processTweens:function(){return ht},setBezierFunction:function(){return Xt},tween:function(){return gt},unsetBezierFunction:function(){return Zt}});var r={};n.r(r),n.d(r,{bounce:function(){return q},bouncePast:function(){return N},easeFrom:function(){return R},easeFromTo:function(){return F},easeInBack:function(){return j},easeInCirc:function(){return k},easeInCubic:function(){return c},easeInExpo:function(){return b},easeInOutBack:function(){return C},easeInOutCirc:function(){return P},easeInOutCubic:function(){return f},easeInOutExpo:function(){return O},easeInOutQuad:function(){return u},easeInOutQuart:function(){return d},easeInOutQuint:function(){return y},easeInOutSine:function(){return w},easeInQuad:function(){return a},easeInQuart:function(){return l},easeInQuint:function(){return m},easeInSine:function(){return v},easeOutBack:function(){return E},easeOutBounce:function(){return T},easeOutCirc:function(){return x},easeOutCubic:function(){return h},easeOutExpo:function(){return S},easeOutQuad:function(){return s},easeOutQuart:function(){return p},easeOutQuint:function(){return g},easeOutSine:function(){return _},easeTo:function(){return I},elastic:function(){return A},linear:function(){return i},swingFrom:function(){return $},swingFromTo:function(){return M},swingTo:function(){return W}});var o={};n.r(o),n.d(o,{afterTween:function(){return It},beforeTween:function(){return Rt},doesApply:function(){return Nt},tweenCreated:function(){return Ft}});var i=function(t){return t},a=function(t){return Math.pow(t,2)},s=function(t){return-(Math.pow(t-1,2)-1)},u=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},c=function(t){return Math.pow(t,3)},h=function(t){return Math.pow(t-1,3)+1},f=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},l=function(t){return Math.pow(t,4)},p=function(t){return-(Math.pow(t-1,4)-1)},d=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},m=function(t){return Math.pow(t,5)},g=function(t){return Math.pow(t-1,5)+1},y=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},v=function(t){return 1-Math.cos(t*(Math.PI/2))},_=function(t){return Math.sin(t*(Math.PI/2))},w=function(t){return-.5*(Math.cos(Math.PI*t)-1)},b=function(t){return 0===t?0:Math.pow(2,10*(t-1))},S=function(t){return 1===t?1:1-Math.pow(2,-10*t)},O=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},k=function(t){return-(Math.sqrt(1-t*t)-1)},x=function(t){return Math.sqrt(1-Math.pow(t-1,2))},P=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},T=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},j=function(t){var e=1.70158;return t*t*((e+1)*t-e)},E=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},C=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},A=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},M=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},$=function(t){var e=1.70158;return t*t*((e+1)*t-e)},W=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},q=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},N=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},F=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},R=function(t){return Math.pow(t,4)},I=function(t){return Math.pow(t,.25)};function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Y,Q,V,K="linear",H="undefined"!=typeof window?window:n.g,J="afterTween",X="afterTweenEnd",Z="beforeTween",tt="tweenCreated",et="function",nt="string",rt=H.requestAnimationFrame||H.webkitRequestAnimationFrame||H.oRequestAnimationFrame||H.msRequestAnimationFrame||H.mozCancelRequestAnimationFrame&&H.mozRequestAnimationFrame||setTimeout,ot=function(){},it=null,at=null,st=U({},r),ut=function(t,e,n,r,o,i,a){var s,u,c,h=t<i?0:(t-i)/o,f=!1;for(var l in a&&a.call&&(f=!0,s=a(h)),e)f||(s=((u=a[l]).call?u:st[u])(h)),c=n[l],e[l]=c+(r[l]-c)*s;return e},ct=function(t,e){var n=t._timestamp,r=t._currentState,o=t._delay;if(!(e<n+o)){var i=t._duration,a=t._targetState,s=n+o+i,u=e>s?s:e,c=u>=s,h=i-(s-u),f=t._filters.length>0;if(c)return t._render(a,t._data,h),t.stop(!0);f&&t._applyFilter(Z),u<n+o?n=i=u=1:n+=o,ut(u,r,t._originalState,a,i,n,t._easing),f&&t._applyFilter(J),t._render(r,t._data,h)}},ht=function(){for(var t,e=mt.now(),n=it;n;)t=n._next,ct(n,e),n=t},ft=Date.now||function(){return+new Date},lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=B(e);if(st[e])return st[e];if(r===nt||r===et)for(var o in t)n[o]=e;else for(var i in t)n[i]=e[i]||K;return n},pt=function(t){t===it?(it=t._next)?it._previous=null:at=null:t===at?(at=t._previous)?at._next=null:it=null:(Q=t._previous,V=t._next,Q._next=V,V._previous=Q),t._previous=t._next=null},dt="function"==typeof Promise?Promise:null,mt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;D(this,t),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._resolve=null,this._reject=null,this._currentState=e||{},this._originalState={},this._targetState={},this._start=ot,this._render=ot,this._promiseCtor=dt,n&&this.setConfig(n)}var e;return(e=[{key:"_applyFilter",value:function(t){for(var e=this._filters.length;e>0;e--){var n=this._filters[e-e][t];n&&n(this)}}},{key:"tween",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._isPlaying&&this.stop(),!e&&this._config||this.setConfig(e),this._pausedAtTime=null,this._timestamp=t.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._config;for(var r in e)n[r]=e[r];var o=n.promise,i=void 0===o?this._promiseCtor:o,a=n.start,s=void 0===a?ot:a,u=n.finish,c=n.render,h=void 0===c?this._config.step||ot:c,f=n.step,l=void 0===f?ot:f;this._data=n.data||n.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=s,this._render=h||l,this._duration=n.duration||500,this._promiseCtor=i,u&&(this._resolve=u);var p=e.from,d=e.to,m=void 0===d?{}:d,g=this._currentState,y=this._originalState,v=this._targetState;for(var _ in p)g[_]=p[_];var w=!1;for(var b in g){var S=g[b];w||B(S)!==nt||(w=!0),y[b]=S,v[b]=m.hasOwnProperty(b)?m[b]:S}if(this._easing=lt(this._currentState,n.easing,this._easing),this._filters.length=0,w){for(var O in t.filters)t.filters[O].doesApply(this)&&this._filters.push(t.filters[O]);this._applyFilter(tt)}return this}},{key:"then",value:function(t,e){var n=this;return this._promise=new this._promiseCtor((function(t,e){n._resolve=t,n._reject=e})),this._promise.then(t,e)}},{key:"catch",value:function(t){return this.then().catch(t)}},{key:"get",value:function(){return U({},this._currentState)}},{key:"set",value:function(t){this._currentState=t}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=t.now(),this._isPlaying=!1,pt(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=e-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===it?(it=this,at=this):(this._previous=at,at._next=this,at=this),this)}},{key:"seek",value:function(e){e=Math.max(e,0);var n=t.now();return this._timestamp+e===0||(this._timestamp=n-e,ct(this,n)),this}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,pt(this);var e=this._filters.length>0;t&&(e&&this._applyFilter(Z),ut(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),e&&(this._applyFilter(J),this._applyFilter(X))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null;var n=this._currentState,r=this._originalState,o=this._targetState;for(var i in n)r[i]=o[i]=n[i];return this}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._currentState,n=this._data;return this._isPlaying?(this._reject&&this._reject({data:n,state:e,tweenable:this}),this._resolve=null,this._reject=null,this.stop(t)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"setScheduleFunction",value:function(e){t.setScheduleFunction(e)}},{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t&&(this._data=U({},t)),this._data}},{key:"dispose",value:function(){for(var t in this)delete this[t]}}])&&G(t.prototype,e),t}();function gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new mt;return e.tween(t),e.tweenable=e,e}z(mt,"now",(function(){return Y})),mt.setScheduleFunction=function(t){return rt=t},mt.formulas=st,mt.filters={},function t(){Y=ft(),rt.call(H,t,16.666666666666668),ht()}();var yt,vt,_t=/(\d|-|\.)/,wt=/([^\-0-9.]+)/g,bt=/[0-9.-]+/g,St=(yt=bt.source,vt=/,\s*/.source,new RegExp("rgb\\(".concat(yt).concat(vt).concat(yt).concat(vt).concat(yt,"\\)"),"g")),Ot=/^.*\(/,kt=/#([0-9]|[a-f]){3,6}/gi,xt="VAL",Pt=function(t,e){return t.map((function(t,n){return"_".concat(e,"_").concat(n)}))};function Tt(t){return parseInt(t,16)}var jt=function(t){return"rgb(".concat((e=t,3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[Tt(e.substr(0,2)),Tt(e.substr(2,2)),Tt(e.substr(4,2))]).join(","),")");var e},Et=function(t,e,n){var r=e.match(t),o=e.replace(t,xt);return r&&r.forEach((function(t){return o=o.replace(xt,n(t))})),o},Ct=function(t){for(var e in t){var n=t[e];"string"==typeof n&&n.match(kt)&&(t[e]=Et(kt,n,jt))}},At=function(t){var e=t.match(bt).map(Math.floor),n=t.match(Ot)[0];return"".concat(n).concat(e.join(","),")")},Mt=function(t){return t.match(bt)},$t=function(t,e){var n={};return e.forEach((function(e){n[e]=t[e],delete t[e]})),n},Wt=function(t,e){return e.map((function(e){return t[e]}))},qt=function(t,e){return e.forEach((function(e){return t=t.replace(xt,+e.toFixed(4))})),t},Nt=function(t){for(var e in t._currentState)if("string"==typeof t._currentState[e])return!0;return!1};function Ft(t){var e=t._currentState;[e,t._originalState,t._targetState].forEach(Ct),t._tokenData=function(t){var e,n,r={};for(var o in t){var i=t[o];"string"==typeof i&&(r[o]={formatString:(e=i,n=void 0,n=e.match(wt),n?(1===n.length||e.charAt(0).match(_t))&&n.unshift(""):n=["",""],n.join(xt)),chunkNames:Pt(Mt(i),o)})}return r}(e)}function Rt(t){var e=t._currentState,n=t._originalState,r=t._targetState,o=t._easing,i=t._tokenData;!function(t,e){var n=function(n){var r=e[n].chunkNames,o=t[n];if("string"==typeof o){var i=o.split(" "),a=i[i.length-1];r.forEach((function(e,n){return t[e]=i[n]||a}))}else r.forEach((function(e){return t[e]=o}));delete t[n]};for(var r in e)n(r)}(o,i),[e,n,r].forEach((function(t){return function(t,e){var n=function(n){Mt(t[n]).forEach((function(r,o){return t[e[n].chunkNames[o]]=+r})),delete t[n]};for(var r in e)n(r)}(t,i)}))}function It(t){var e=t._currentState,n=t._originalState,r=t._targetState,o=t._easing,i=t._tokenData;[e,n,r].forEach((function(t){return function(t,e){for(var n in e){var r=e[n],o=r.chunkNames,i=r.formatString,a=qt(i,Wt($t(t,o),o));t[n]=Et(St,a,At)}}(t,i)})),function(t,e){for(var n in e){var r=e[n].chunkNames,o=t[r[0]];t[n]="string"==typeof o?r.map((function(e){var n=t[e];return delete t[e],n})).join(" "):o}}(o,i)}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){Bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lt=new mt,Ut=mt.filters,zt=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=Gt({},t),a=lt(t,r);for(var s in Lt._filters.length=0,Lt.set({}),Lt._currentState=i,Lt._originalState=t,Lt._targetState=e,Lt._easing=a,Ut)Ut[s].doesApply(Lt)&&Lt._filters.push(Ut[s]);Lt._applyFilter("tweenCreated"),Lt._applyFilter("beforeTween");var u=ut(n,i,t,e,1,o,a);return Lt._applyFilter("afterTween"),u};function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}var Ht=new WeakMap,Jt=function(){function t(){Qt(this,t),Ht.set(this,{writable:!0,value:[]});for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(this.add.bind(this))}var e;return(e=[{key:"add",value:function(t){return Kt(this,Ht).push(t),t}},{key:"remove",value:function(t){var e=Kt(this,Ht).indexOf(t);return~e&&Kt(this,Ht).splice(e,1),t}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return Kt(this,Ht).some((function(t){return t.isPlaying()}))}},{key:"play",value:function(){return Kt(this,Ht).forEach((function(t){return t.tween()})),this}},{key:"pause",value:function(){return Kt(this,Ht).forEach((function(t){return t.pause()})),this}},{key:"resume",value:function(){return Kt(this,Ht).forEach((function(t){return t.resume()})),this}},{key:"stop",value:function(t){return Kt(this,Ht).forEach((function(e){return e.stop(t)})),this}},{key:"tweenables",get:function(){return function(t){if(Array.isArray(t))return Yt(t)}(t=Kt(this,Ht))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Yt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t}},{key:"promises",get:function(){return Kt(this,Ht).map((function(t){return t.then()}))}}])&&Vt(t.prototype,e),t}(),Xt=function(t,e,n,r,o){var i=function(t,e,n,r){return function(o){return h=0,f=0,l=0,p=function(t){return((h*t+f)*t+l)*t},d=function(t){return(3*h*t+2*f)*t+l},m=function(t){return t>=0?t:0-t},h=1-(l=3*(i=t))-(f=3*(n-i)-l),s=1-(c=3*(a=e))-(u=3*(r-a)-c),function(t){return((s*t+u)*t+c)*t}(function(t,e){var n,r,o,i,a,s;for(o=t,s=0;s<8;s++){if(i=p(o)-t,m(i)<e)return o;if(a=d(o),m(a)<1e-6)break;o-=i/a}if((o=t)<(n=0))return n;if(o>(r=1))return r;for(;n<r;){if(i=p(o),m(i-t)<e)return o;t>i?n=o:r=o,o=.5*(r-n)+n}return o}(o,.005));var i,a,s,u,c,h,f,l,p,d,m}}(e,n,r,o);return i.displayName=t,i.x1=e,i.y1=n,i.x2=r,i.y2=o,mt.formulas[t]=i},Zt=function(t){return delete mt.formulas[t]};mt.filters.token=o}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(720)}()}(D={exports:{}},D.exports),D.exports),B="Webkit Moz O ms".split(" ");function L(t,e,n){for(var r=t.style,o=0;o<B.length;++o){r[B[o]+U(e)]=n}r[e]=n}function U(t){return t.charAt(0).toUpperCase()+t.slice(1)}function z(t){return!function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t)&&("object"===typeof t&&!!t)}function Y(t,e){for(var n in t){if(t.hasOwnProperty(n))e(t[n],n)}}var Q={extend:function t(e,n,r){for(var o in e=e||{},r=r||!1,n=n||{})if(n.hasOwnProperty(o)){var i=e[o],a=n[o];r&&z(i)&&z(a)?e[o]=t(i,a,r):e[o]=a}return e},render:function(t,e){var n=t;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],i=new RegExp("\\{"+r+"\\}","g");n=n.replace(i,o)}return n},setStyle:L,setStyles:function(t,e){Y(e,(function(e,n){null!=e&&(z(e)&&!0===e.prefix?L(t,n,e.value):t.style[n]=e)}))},capitalize:U,isString:function(t){return"string"==typeof t||t instanceof String},isFunction:function(t){return"function"==typeof t},isObject:z,forEachObject:Y,floatEquals:function(t,e){return Math.abs(t-e)<.001},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},V=G.Tweenable,K={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},H=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");var r;n=Q.extend({delay:0,duration:800,easing:"linear",from:{},to:{},step:function(){}},n),r=Q.isString(e)?document.querySelector(e):e,this.path=r,this._opts=n,this._tweenable=null;var o=this.path.getTotalLength();this.path.style.strokeDasharray=o+" "+o,this.set(0)};H.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength();return parseFloat((1-t/e).toFixed(6),10)},H.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(Q.isFunction(e)){var n=this._easing(this._opts.easing);e(this._calculateTo(t,n),this._opts.shape||this,this._opts.attachment)}},H.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},H.prototype.animate=function(t,e,n){e=e||{},Q.isFunction(e)&&(n=e,e={});var r=Q.extend({},e),o=Q.extend({},this._opts);e=Q.extend(o,e);var i=this._easing(e.easing),a=this._resolveFromAndTo(t,i,r);this.stop(),this.path.getBoundingClientRect();var s=this._getComputedDashOffset(),u=this._progressToOffset(t),c=this;this._tweenable=new V,this._tweenable.tween({from:Q.extend({offset:s},a.from),to:Q.extend({offset:u},a.to),duration:e.duration,delay:e.delay,easing:i,step:function(t){c.path.style.strokeDashoffset=t.offset;var n=e.shape||c;e.step(t,n,e.attachment)}}).then((function(t){Q.isFunction(n)&&n()}))},H.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},H.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},H.prototype._resolveFromAndTo=function(t,e,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},H.prototype._calculateFrom=function(t){return G.interpolate(this._opts.from,this._opts.to,this.value(),t)},H.prototype._calculateTo=function(t,e){return G.interpolate(this._opts.from,this._opts.to,t,e)},H.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},H.prototype._easing=function(t){return K.hasOwnProperty(t)?K[t]:t};var J=H,X="Object is destroyed",Z=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=Q.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),Q.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),Q.isObject(n)&&Q.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var r,o=this._createSvgView(this._opts);if(!(r=Q.isString(e)?document.querySelector(e):e))throw new Error("Container does not exist: "+e);this._container=r,this._container.appendChild(o.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&Q.setStyles(o.svg,this._opts.svgStyle),this.svg=o.svg,this.path=o.path,this.trail=o.trail,this.text=null;var i=Q.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new J(o.path,i),Q.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};Z.prototype.animate=function(t,e,n){if(null===this._progressPath)throw new Error(X);this._progressPath.animate(t,e,n)},Z.prototype.stop=function(){if(null===this._progressPath)throw new Error(X);void 0!==this._progressPath&&this._progressPath.stop()},Z.prototype.pause=function(){if(null===this._progressPath)throw new Error(X);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.pause()},Z.prototype.resume=function(){if(null===this._progressPath)throw new Error(X);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.resume()},Z.prototype.destroy=function(){if(null===this._progressPath)throw new Error(X);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},Z.prototype.set=function(t){if(null===this._progressPath)throw new Error(X);this._progressPath.set(t)},Z.prototype.value=function(){if(null===this._progressPath)throw new Error(X);return void 0===this._progressPath?0:this._progressPath.value()},Z.prototype.setText=function(t){if(null===this._progressPath)throw new Error(X);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),Q.isObject(t)?(Q.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},Z.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var n=null;(t.trailColor||t.trailWidth)&&(n=this._createTrail(t),e.appendChild(n));var r=this._createPath(t);return e.appendChild(r),{svg:e,path:r,trail:n}},Z.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},Z.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},Z.prototype._createTrail=function(t){var e=this._trailString(t),n=Q.extend({},t);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(e,n)},Z.prototype._createPathElement=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n.setAttribute("stroke",e.color),n.setAttribute("stroke-width",e.strokeWidth),e.fill?n.setAttribute("fill",e.fill):n.setAttribute("fill-opacity","0"),n},Z.prototype._createTextContainer=function(t,e){var n=document.createElement("div");n.className=t.text.className;var r=t.text.style;return r&&(t.text.autoStyleContainer&&(e.style.position="relative"),Q.setStyles(n,r),r.color||(n.style.color=t.color)),this._initializeTextContainer(t,e,n),n},Z.prototype._initializeTextContainer=function(t,e,n){},Z.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},Z.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},Z.prototype._warnContainerAspectRatio=function(t){if(this.containerAspectRatio){var e=window.getComputedStyle(t,null),n=parseFloat(e.getPropertyValue("width"),10),r=parseFloat(e.getPropertyValue("height"),10);Q.floatEquals(this.containerAspectRatio,n/r)||(console.warn("Incorrect aspect ratio of container","#"+t.id,"detected:",e.getPropertyValue("width")+"(width)","/",e.getPropertyValue("height")+"(height)","=",n/r),console.warn("Aspect ratio of should be",this.containerAspectRatio))}};var tt=Z,et=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",tt.apply(this,arguments)};(et.prototype=new tt).constructor=et,et.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},et.prototype._pathString=function(t){return Q.render(this._pathTemplate,{center:t.strokeWidth/2})},et.prototype._trailString=function(t){return this._pathString(t)};var nt=et,rt=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,tt.apply(this,arguments)};(rt.prototype=new tt).constructor=rt,rt.prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var n=50-e/2;return Q.render(this._pathTemplate,{radius:n,"2radius":2*n})},rt.prototype._trailString=function(t){return this._pathString(t)};var ot=rt,it=function(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,tt.apply(this,arguments)};(it.prototype=new tt).constructor=it,it.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},it.prototype._initializeTextContainer=function(t,e,n){t.text.style&&(n.style.top="auto",n.style.bottom="0",t.text.alignToBottom?Q.setStyle(n,"transform","translate(-50%, 0)"):Q.setStyle(n,"transform","translate(-50%, 50%)"))},it.prototype._pathString=ot.prototype._pathString,it.prototype._trailString=ot.prototype._trailString;var at=it,st=function(t,e){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",tt.apply(this,arguments)};(st.prototype=new tt).constructor=st,st.prototype._pathString=function(t){var e=100-t.strokeWidth/2;return Q.render(this._pathTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2})},st.prototype._trailString=function(t){var e=100-t.strokeWidth/2;return Q.render(this._trailTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2,startMargin:t.strokeWidth/2-t.trailWidth/2})};var ut={Line:nt,Circle:ot,SemiCircle:at,Square:st,Path:J,Shape:tt,utils:Q},ct=function(t,e){return(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ht=function(){return(ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function ft(t){return Object.keys(t).some((function(e){var n=t[e];if(!n)return!1;switch(n&&n.toParam&&(n=n.toParam()),n.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function lt(t){var e={};return Object.keys(t).forEach((function(n){var r,o,i=t[n];if(i&&i.toParam&&(i=i.toParam()),i||0===i||"boolean"==typeof i||"string"==typeof i){var a;switch(i.constructor.name){case"Array":var s=null===(o=null===(r=i[0])||void 0===r?void 0:r.constructor)||void 0===o?void 0:o.name;a="Array"===s?i:"Object"===s?JSON.stringify(i):i.join(",");break;case"Object":a=JSON.stringify(i);break;case"Date":a=i.valueOf();break;case"Function":a=null;break;case"Boolean":a=i+"";break;default:a=i}(a||0===a||"string"==typeof a||Array.isArray(a))&&(e[n]=a)}})),e}function pt(t,e){return Array.isArray(e)&&e[0]&&Array.isArray(e[0])?e.map((function(e){return pt(t,e)})).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(e)}function dt(t){var e=lt(t);return Object.keys(e).map((function(t){return pt(t,e[t])})).join("&")}var mt=function(t,e,n,r,o){t=t||"UNKNOWN_ERROR",e=e||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===e?t:e+": "+t,this.originalMessage=t,this.code=e,this.response=n,this.url=r,this.options=o};function gt(t){console&&console.warn&&console.warn.apply(console,[t])}mt.prototype=Object.create(Error.prototype),mt.prototype.constructor=mt;var yt={httpMethod:"POST",params:{f:"json"}},vt=function(t){function e(e,n,r,o,i){void 0===e&&(e="AUTHENTICATION_ERROR"),void 0===n&&(n="AUTHENTICATION_ERROR_CODE");var a=t.call(this,e,n,r,o,i)||this;return a.name="ArcGISAuthError",a.message="AUTHENTICATION_ERROR_CODE"===n?e:n+": "+e,a}return function(t,e){function n(){this.constructor=t}ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.retry=function(t,e){var n=this;void 0===e&&(e=3);var r=0,o=function(i,a){t(n.url,n.options).then((function(t){var e=ht(ht({},n.options),{authentication:t});return r+=1,_t(n.url,e)})).then((function(t){i(t)})).catch((function(t){"ArcGISAuthError"===t.name&&r<e?o(i,a):"ArcGISAuthError"===t.name&&r>=e?a(n):a(t)}))};return new Promise((function(t,e){o(t,e)}))},e}(mt);function _t(t,e){void 0===e&&(e={params:{f:"json"}});var n=ht(ht(ht({httpMethod:"POST"},yt),e),{params:ht(ht({},yt.params),e.params),headers:ht(ht({},yt.headers),e.headers)}),r=[],o=[];if(n.fetch||"undefined"==typeof fetch?(r.push("`fetch`"),o.push("`node-fetch`")):n.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(r.push("`Promise`"),o.push("`es6-promise`")),"undefined"==typeof FormData&&(r.push("`FormData`"),o.push("`isomorphic-form-data`")),!n.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+r.join(", ")+". We recommend installing the "+o.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var i=n.httpMethod,a=n.authentication,s=n.rawResponse,u=ht({f:"json"},n.params),c=null,h={method:i,credentials:"same-origin"};return n.headers&&n.headers["X-Esri-Auth-Client-Id"]&&t.indexOf("/oauth2/platformSelf")>-1&&(h.credentials="include"),(a?a.getToken(t,{fetch:n.fetch}).catch((function(e){return e.url=t,e.options=n,c=e,Promise.resolve("")})):Promise.resolve("")).then((function(e){e.length&&(u.token=e);var r={};if("GET"===h.method){u.token&&n.hideToken&&"undefined"==typeof window&&(r["X-Esri-Authorization"]="Bearer "+u.token,delete u.token);var o=""===dt(u)?t:t+"?"+dt(u);n.maxUrlLength&&o.length>n.maxUrlLength||u.token&&n.hideToken?(h.method="POST",e.length&&n.hideToken&&(u.token=e,delete r["X-Esri-Authorization"])):t=o}var i=new RegExp("/items/.+/updateResources").test(t);return"POST"===h.method&&(h.body=function(t,e){var n=ft(t)||e,r=lt(t);if(n){var o=new FormData;return Object.keys(r).forEach((function(t){if("undefined"!=typeof Blob&&r[t]instanceof Blob){var e=r.fileName||r[t].name||t;o.append(t,r[t],e)}else o.append(t,r[t])})),o}return dt(t)}(u,i)),h.headers=ht(ht({},r),n.headers),"undefined"!=typeof window||h.headers.referer||(h.headers.referer="@esri/arcgis-rest-js"),ft(u)||i||(h.headers["Content-Type"]="application/x-www-form-urlencoded"),n.fetch(t,h)})).then((function(e){if(!e.ok){var r=e.status,o=e.statusText;throw new mt(o,"HTTP "+r,e,t,n)}if(s)return e;switch(u.f){case"json":case"geojson":return e.json();case"html":case"text":return e.text();default:return e.blob()}})).then((function(e){if("json"!==u.f&&"geojson"!==u.f||s)return e;var r=function(t,e,n,r,o){if(t.code>=400){var i=t.message,a=t.code;throw new mt(i,a,t,e,r)}if(t.error){var s=t.error,u=(i=s.message,a=s.code,s.messageCode),c=u||a||"UNKNOWN_ERROR_CODE";if(498===a||499===a||"GWM_0003"===u||400===a&&"Unable to generate token."===i)throw o||new vt(i,c,t,e,r);throw new mt(i,c,t,e,r)}if("failed"===t.status||"failure"===t.status){i=void 0,a="UNKNOWN_ERROR_CODE";try{i=JSON.parse(t.statusMessage).message,a=JSON.parse(t.statusMessage).code}catch(e){i=t.statusMessage||t.message}throw new mt(i,a,t,e,r)}return t}(e,t,0,n,c);if(c){var o=t.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];n.authentication.trustedServers[o]={token:[],expires:new Date(Date.now()+864e5)},c=null}return r}))}var wt=function(){function t(t){void 0===t&&(t=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=t}return t.prototype.match=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.termStack=this.termStack.concat(t),this},t.prototype.in=function(t){var e="`in("+(t?'"'+t+'"':"")+")`";return this.hasRange||this.hasTerms?(t&&"*"!==t&&(this.q+=t+":"),this.commit()):(gt(e+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},t.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},t.prototype.endGroup=function(){return this.openGroups<=0?(gt("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},t.prototype.and=function(){return this.addModifier("and")},t.prototype.or=function(){return this.addModifier("or")},t.prototype.not=function(){return this.addModifier("not")},t.prototype.from=function(t){return this.hasTerms?(gt("`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[0]=t,this)},t.prototype.to=function(t){return this.hasTerms?(gt("`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[1]=t,this)},t.prototype.boost=function(t){return this.commit(),this.q+="^"+t,this},t.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},t.prototype.clone=function(){return this.commit(),this.cleanup(),new t(this.q+"")},t.prototype.addModifier=function(t){return this.currentModifer?(gt("You have called `"+this.currentModifer+"()` after `"+t+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==t?(gt("You have called `"+t+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=t,this.q+=""===this.q?"":" ",this.q+=t.toUpperCase()+" ",this))},t.prototype.hasWhiteSpace=function(t){return/\s/g.test(t)},t.prototype.formatTerm=function(t){return t instanceof Date?t.getTime():"string"==typeof t&&this.hasWhiteSpace(t)?'"'+t+'"':t},t.prototype.commit=function(){var t=this;return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map((function(e){return t.formatTerm(e)})).join(" "),this.termStack=[]),this},Object.defineProperty(t.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!1,configurable:!0}),t.prototype.cleanup=function(){if(this.openGroups>0)for(gt("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--;var t=this.q;this.q=t.replace(/( AND ?| NOT ?| OR ?)*$/,""),t!==this.q&&gt("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},t}();function bt(t,e){var n,r;switch(n="string"==typeof t||t instanceof wt?{httpMethod:"GET",params:{q:t}}:function(t,e,n){var r=ht(ht({params:{}},n),t);return r.params=e.reduce((function(e,n){return(t[n]||"boolean"==typeof t[n])&&(e[n]=t[n]),e}),r.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce((function(t,e){return r[e]&&(t[e]=r[e]),t}),{})}(t,["q","num","start","sortField","sortOrder"],{httpMethod:"GET"}),e){case"item":r="/search";break;case"group":r="/community/groups";break;case"groupContent":if("string"==typeof t||t instanceof wt||!t.groupId)return Promise.reject(new Error("you must pass a `groupId` option to `searchGroupContent`"));r="/content/groups/"+t.groupId+"/search";break;default:r="/portals/self/users/search"}return _t(function(t){return void 0===t&&(t={}),t.portal?("string"!=typeof(e=t.portal)||"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e):t.authentication?t.authentication.portal:"https://www.arcgis.com/sharing/rest";var e}(n)+r,n).then((function(n){return n.nextStart&&-1!==n.nextStart&&(n.nextPage=function(){var r;return"string"==typeof t||t instanceof wt?r={q:t,start:n.nextStart}:(r=t).start=n.nextStart,bt(r,e)}),n}))}function St(e){let n,r,o,i,a,s,g,y,v,_,w,b,S,O,k,x,P,T=e[0].title+"",j=e[0].owner+"",E=new Date(e[0].modified)+"";return{c(){n=f("div"),r=f("a"),o=f("img"),s=l("\n\n  Title:\n  "),g=f("a"),y=l(T),_=f("br"),w=l("\n  Owner: "),b=l(j),S=f("br"),O=l("\n  Modified: "),k=l(E),x=p(),P=f("div"),o.src!==(i=`https://www.arcgis.com/sharing/rest/content/items/${e[0].id}/info/${e[0].thumbnail}`)&&d(o,"src",i),d(o,"alt","Map thumbnail"),d(o,"class","svelte-1o6gqv1"),d(r,"href",a=`https://www.arcgis.com/apps/mapviewer/index.html?webmap=${e[0].id}`),d(r,"target","_blank"),d(g,"href",v=`https://www.arcgis.com/apps/mapviewer/index.html?webmap=${e[0].id}`),d(g,"target","_blank"),d(P,"class","clear svelte-1o6gqv1"),d(n,"class","item svelte-1o6gqv1")},m(t,e){c(t,n,e),u(n,r),u(r,o),u(n,s),u(n,g),u(g,y),u(n,_),u(n,w),u(n,b),u(n,S),u(n,O),u(n,k),u(n,x),u(n,P)},p(t,[e]){1&e&&o.src!==(i=`https://www.arcgis.com/sharing/rest/content/items/${t[0].id}/info/${t[0].thumbnail}`)&&d(o,"src",i),1&e&&a!==(a=`https://www.arcgis.com/apps/mapviewer/index.html?webmap=${t[0].id}`)&&d(r,"href",a),1&e&&T!==(T=t[0].title+"")&&m(y,T),1&e&&v!==(v=`https://www.arcgis.com/apps/mapviewer/index.html?webmap=${t[0].id}`)&&d(g,"href",v),1&e&&j!==(j=t[0].owner+"")&&m(b,j),1&e&&E!==(E=new Date(t[0].modified)+"")&&m(k,E)},i:t,o:t,d(t){t&&h(n)}}}function Ot(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class kt extends I{constructor(t){super(),R(this,t,Ot,St,i,{item:0})}}function xt(t,e,n){const r=t.slice();return r[7]=e[n],r}function Pt(t){let e,n;return e=new kt({props:{item:t[7]}}),{c(){W(e.$$.fragment)},m(t,r){q(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.item=t[7]),e.$set(r)},i(t){n||(M(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function Tt(t){let e,n,o,i,a,s=t[1],l=[];for(let e=0;e<s.length;e+=1)l[e]=Pt(xt(t,s,e));const m=t=>$(l[t],1,1,(()=>{l[t]=null}));return{c(){e=f("div"),n=f("div"),o=p(),i=f("div");for(let t=0;t<l.length;t+=1)l[t].c();d(n,"class","progressBar svelte-d2h8hw"),d(i,"class","itemsWrapper svelte-d2h8hw")},m(r,s){c(r,e,s),u(e,n),t[2](n),u(e,o),u(e,i);for(let t=0;t<l.length;t+=1)l[t].m(i,null);a=!0},p(t,[e]){if(2&e){let n;for(s=t[1],n=0;n<s.length;n+=1){const r=xt(t,s,n);l[n]?(l[n].p(r,e),M(l[n],1)):(l[n]=Pt(r),l[n].c(),M(l[n],1),l[n].m(i,null))}for(A={r:0,c:[],p:A},n=s.length;n<l.length;n+=1)m(n);A.r||r(A.c),A=A.p}},i(t){if(!a){for(let t=0;t<s.length;t+=1)M(l[t]);a=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)$(l[t]);a=!1},d(n){n&&h(e),t[2](null),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(l,n)}}}function jt(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};let o,i,a;const s=()=>r(void 0,void 0,void 0,(function*(){console.log("LOOP");var t;(t=>{if(a&&a.length>0){const e=[],r=a[0].id;t.find((t=>t.id===r||(e.push(t),!1))),n(1,a=[...e,...a])}else n(1,a=t)})((yield(t={q:'((type: "Web Map")) AND NOT type:"Web Mapping Application"',sortField:"modified",sortOrder:"desc"},bt(t,"item"))).results);setTimeout(s,1e4),i.set(1),i.animate(0,{duration:1e4})}));return v((()=>r(void 0,void 0,void 0,(function*(){s(),i=new ut.Circle(o,{strokeWidth:6})})))),n(1,a=[]),[o,a,function(t){w[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class Et extends I{constructor(t){super(),R(this,t,jt,Tt,i,{})}}function Ct(e){let n,r,o,i,a,s;return a=new Et({}),{c(){n=f("main"),r=f("h1"),r.textContent="Map Stream",o=p(),i=f("div"),W(a.$$.fragment)},m(t,e){c(t,n,e),u(n,r),u(n,o),u(n,i),q(a,i,null),s=!0},p:t,i(t){s||(M(a.$$.fragment,t),s=!0)},o(t){$(a.$$.fragment,t),s=!1},d(t){t&&h(n),N(a)}}}return new class extends I{constructor(t){super(),R(this,t,null,Ct,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
